!function(){"use strict";if("undefined"==typeof window)return;var e={namespace:"attaboy",params:["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],autoPopulate:!0};function t(t){return e.namespace+":"+t}function n(e){try{return window.localStorage.getItem(t(e))}catch(e){return null}}function o(e,o){try{window.localStorage.setItem(t(e),o)}catch(e){}}function r(e){try{window.localStorage.removeItem(t(e))}catch(e){}}function a(e){return(e||"").replace(/^\s+|\s+$/g,"")}function s(){var t=window.location.search||"";if(!t)return{};var n=t.replace(/^\?/,'').replace(/\+/g," "),o={};if("undefined"!=typeof URLSearchParams)try{for(var r=new URLSearchParams(n),a=0;a<e.params.length;a++){var s=e.params[a],u=r.get(s);null!=u&&""!==u&&(o[s]=u)}return o}catch(e){}for(var i=n?n.split("&"):[],l=0;l<i.length;l++){var c=i[l].split("=");if(2===c.length)try{var p=decodeURIComponent(c[0]),m=decodeURIComponent(c[1]);o[p]=m}catch(e){}}return o}function u(){for(var t=s(),r=0;r<e.params.length;r++){var u=e.params[r],i=t[u];i&&o(u,a(i))}}function i(){for(var t=0;t<e.params.length;t++){var o=e.params[t],r=n(o);if(r){for(var a='input[name="'+o+'"], textarea[name="'+o+'"], select[name="'+o+'"]',s=document.querySelectorAll(a),u=0;u<s.length;u++){var i=s[u];void 0!==i.value&&(null===i.value||""===i.value)&&(i.value=r)}}}}u(),document.addEventListener("DOMContentLoaded",(function(){e.autoPopulate&&i()})),window.attaboy={getStored:function(t){if(t)return n(t);for(var o={},r=0;r<e.params.length;r++){var a=e.params[r],s=n(a);s&&(o[a]=s)}return o},getAllParams:function(){return e.params.slice()},clearStored:function(t){if(t)r(t);else for(var n=0;n<e.params.length;n++)r(e.params[n])},populate:function(){i()},init:function(t){return t&&("string"==typeof t.namespace&&t.namespace&&(e.namespace=t.namespace),t.params&&t.params.length&&(e.params=t.params.slice()),"boolean"==typeof t.autoPopulate&&(e.autoPopulate=t.autoPopulate),u(),e.autoPopulate&&i()),this}}}();
